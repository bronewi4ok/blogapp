{% extends 'blogapp/base.html' %}

{% block content %}
{% for post in posts %}
<div class="posts">
    <div class="post_header">
        {% if post.published_date %}
        <p>{{ post.published_date }}</p>
        {% endif %}
        {% if user.is_authenticated  %}
        <h2>
            {{ post.title|capfirst }}
            <div>
                <a class="far fa-edit font" href="{% url 'post_edit' pk=post.pk %}"></a>
                <a class="fas fa-trash font" href="{% url 'post_remove' pk=post.pk %}"></a>
            </div>
        </h2>
        {% endif %}
    </div>
    <div class="post_text font">
        <p>{{ post.text|linebreaksbr|capfirst|truncatewords:"50" }}</p>
    </div>
    {% if not post.published_date %}
    <div class="post_publish">
        <a  href="{% url 'post_publish' pk=post.pk %}">Publish <i class="far fa-paper-plane"></i></a>
    </div>
    {% endif %}
</div>
{% endfor %}
{% endblock %}