{% load i18n %}
{% load crispy_forms_tags %}
{% load static %}


<div class="col col-md-10 col-lg-8 col-xl-6 mx-auto">
    <form action="{% url 'mailer:email' %}" id="emailForms" method="POST" enctype="multipart/form-data">
        <div class="form-row p-0 m-0">
            <h2 class="white-text col-12">KEEP IN TOUCH</h2>
            {% csrf_token %}
            <div class="col-12 col-md-6">
                <div class="md-form md-outline m-2">
                    <input class="form-control rounded-pill text-white" type="text" name="name" id="id_name" required>
                    <small class="white-text px-2" for="postNewTitle">{% trans 'Enter your name' %}</small>
                </div>
            </div>

            <div class="col-12 col-md-6">
                <div class="md-form md-outline m-2">
                    <input class="form-control rounded-pill text-white" type="email" name="email" id="id_email"
                        required>
                    <small class="rounded px-2 white-text" for="id_email">{% trans 'Enter your email' %}</small>
                </div>
            </div>

            <div class="col-12">
                <div class="md-form md-outline">
                    <textarea class="md-textarea rounded-lg form-control text-white" name="message" id="id_message"
                        rows="5" required></textarea>
                    <label class="rounded px-2 transparent" for="id_message">{% trans '' %}</label>
                </div>
            </div>
        </div>
        <button class="btn btn btn-outline-light-blue" type="submit">{% trans 'Submit' %}</button>
    </form>
</div>

<!-- VALIDATE -->
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/additional-methods.min.js"></script>


<script>

    $("#emailForms").validate({
        debug: true,
        rules: {
            name: {
                required: true,
                minlength: 2
            },
            email: {
                required: true,
                email: true,
                minlength: 5,
            },
        },
        messages: {
            name: {
                required: "Please specify your name",
                minlength: " Put more than 1 symbol"
            },
            email: {
                required: "We need your email",
                email: "invalid email",
            }
        },
        submitHandler: function(form) {
        form.submit();
    }
    });

</script>